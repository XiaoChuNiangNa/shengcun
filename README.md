# 技能系统更新说明

## 📋 已完成的功能更新

### 1. **剧毒效果修改** ✅
- **修改前**：每秒扣除1*层数生命值
- **修改后**：**每回合**扣除1*层数生命值
- **文件**：`BuffEffectManager.java`

### 2. **创建新的技能管理系统** ✅
- **文件**：`BattleSkillManager.java`
- **功能**：统一管理所有战斗技能

### 3. **技能列表实现** ✅

#### 编号 1 - 逃跑
- **Lv1**：冷却30秒，50%概率逃跑
- **Lv2**：冷却25秒，75%概率逃跑  
- **Lv3**：冷却20秒，100%概率逃跑

#### 编号 2 - 冲撞
- **Lv1**：冷却10秒，对敌军单体造成攻击*1.5伤害
- **Lv2**：冷却8秒，对敌军单体造成攻击*2伤害
- **Lv3**：冷却6秒，对敌军单体造成攻击*2.5伤害

#### 编号 3 - 附毒
- **Lv1**：冷却15秒，使敌军单体附加1层剧毒效果
- **Lv2**：冷却13秒，使敌军单体附加2层剧毒效果
- **Lv3**：冷却11秒，使敌军单体附加3层剧毒效果

#### 编号 4 - 撕咬
- **Lv1**：冷却10秒，使敌军单体附加1层流血效果
- **Lv2**：冷却8秒，使敌军单体附加2层流血效果
- **Lv3**：冷却6秒，使敌军单体附加3层流血效果

#### 编号 5 - 群攻
- **Lv1**：冷却30秒，召唤无技能、50%生命值的分身
- **Lv2**：冷却25秒，召唤无技能、75%生命值的分身
- **Lv3**：冷却20秒，召唤无技能、100%生命值的分身

#### 编号 6 - 震慑
- **Lv1**：冷却20秒，使敌人眩晕2秒
- **Lv2**：冷却15秒，使敌人眩晕3秒
- **Lv3**：冷却10秒，使敌人眩晕4秒

#### 编号 7 - 掠夺
- **Lv1**：冷却30秒，随机抢夺敌方背包1个物资
- **Lv2**：冷却25秒，随机抢夺敌方背包2个物资
- **Lv3**：冷却20秒，随机抢夺敌方背包3个物资

### 4. **怪物系统集成** ✅
- **修改文件**：`MonsterManager.java`
- **野兔配置**：
  - 生命值：20
  - 攻击力：2
  - 防御力：1
  - 速度：200
  - **技能**：逃跑 Lv1

### 5. **战斗系统集成** ✅
- **修改文件**：`BattleActivity.java`
- **集成功能**：
  - 新技能系统执行
  - 眩晕效果检查
  - 流血效果处理
  - 技能冷却管理
  - 敌方AI技能使用

### 6. **演示和测试类** ✅
- **文件**：`SkillDemo.java`
- **功能**：展示技能系统使用方法

## 🎮 使用方法

### 1. 创建技能
```java
// 创建逃跑技能 Lv1
BattleSkill escapeSkill = BattleSkillManager.createSkill(
    BattleSkillManager.SkillType.ESCAPE, 1);

// 创建冲撞技能 Lv2
BattleSkill chargeSkill = BattleSkillManager.createSkill(
    BattleSkillManager.SkillType.CHARGE, 2);
```

### 2. 执行技能
```java
// 执行技能效果
String result = BattleSkillManager.executeSkill(
    skillType, level, caster, target, battleActivity);
```

### 3. 为怪物分配技能
```java
// 为野兔分配逃跑技能
BattleSkill[] hareSkills = {
    BattleSkillManager.createSkill(BattleSkillManager.SkillType.ESCAPE, 1)
};
```

## 🔧 核心类说明

### BattleSkillManager
- **功能**：统一管理所有技能配置和执行
- **方法**：创建技能、执行技能、获取技能信息

### BattleSkill
- **功能**：单个技能实例
- **属性**：名称、冷却时间、伤害值、描述等

### MonsterManager
- **功能**：怪物数据管理
- **更新**：集成新技能系统为怪物分配技能

### BattleActivity
- **功能**：战斗逻辑主类
- **更新**：集成新技能执行逻辑和buff效果处理

## 🎯 系统优势

1. **统一管理**：所有技能集中在一个管理器
2. **易于扩展**：添加新技能只需修改配置文件
3. **等级系统**：支持多级技能配置
4. **战斗集成**：与现有战斗系统无缝集成
5. **效果丰富**：支持buff效果、冷却管理等

## 📱 使用示例

野兔现在会：
- 在战斗中尝试使用逃跑技能
- 逃跑成功率为50%（Lv1）
- 冷却时间为30秒

其他怪物可以轻松配置不同的技能组合，创建丰富的战斗体验！
